@page "/multilanguage-demo"
@using BlazorFileManager.Components
@using BlazorFileManager.Services
@inject IFileStorageService? StorageService
@rendermode InteractiveServer

<PageTitle>Multi-Language Demo</PageTitle>

<div class="container mt-4">
    <h1>ğŸŒ Multi-Language Support Demo</h1>
    <p class="lead">Die Komponente unterstÃ¼tzt mehrere Sprachen durch austauschbare Labels.</p>

    <div class="mb-4">
        <h3>Sprache wÃ¤hlen / Select Language / Choisir la langue</h3>
        <div class="btn-group" role="group">
            <button type="button" 
                    class="btn @(currentLanguage == "English" ? "btn-primary" : "btn-outline-primary")" 
                    @onclick='() => SetLanguage("English")'>
                ğŸ‡¬ğŸ‡§ English
            </button>
            <button type="button" 
                    class="btn @(currentLanguage == "Deutsch" ? "btn-primary" : "btn-outline-primary")" 
                    @onclick='() => SetLanguage("Deutsch")'>
                ğŸ‡©ğŸ‡ª Deutsch
            </button>
            <button type="button" 
                    class="btn @(currentLanguage == "FranÃ§ais" ? "btn-primary" : "btn-outline-primary")" 
                    @onclick='() => SetLanguage("FranÃ§ais")'>
                ğŸ‡«ğŸ‡· FranÃ§ais
            </button>
            <button type="button" 
                    class="btn @(currentLanguage == "Custom" ? "btn-primary" : "btn-outline-primary")" 
                    @onclick='() => SetLanguage("Custom")'>
                âš™ï¸ Custom
            </button>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <h3>File Manager - @currentLanguage</h3>
            <FileUploadManager 
                StorageService="@StorageService"
                Labels="@currentLabels"
                Title="@GetTitle()"
                Files="@uploadedFiles"
                FilesChanged="@((files) => uploadedFiles = files)"
                Options="@fileOptions" />
        </div>

        <div class="col-md-6">
            <h3>Current Labels</h3>
            <div class="alert alert-info">
                <h5>ğŸ¨ Aktuell verwendete Texte:</h5>
                <ul class="mb-0" style="font-size: 0.9rem;">
                    <li><strong>Dropzone:</strong> @currentLabels.DropzoneText</li>
                    <li><strong>Clipboard Hint:</strong> @currentLabels.ClipboardHint</li>
                    <li><strong>Clipboard Button:</strong> @currentLabels.ClipboardButtonText</li>
                    <li><strong>Download Button:</strong> @currentLabels.DownloadButton</li>
                    <li><strong>Delete Button:</strong> @currentLabels.DeleteButton</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="mt-5">
        <h3>Code-Beispiele</h3>
        
        <h4>1. English (Default)</h4>
        <pre><code>&lt;FileUploadManager 
    Labels="@@FileUploadLabels.English" /&gt;

// oder einfach weglassen (English ist Standard)</code></pre>

        <h4>2. Deutsch</h4>
        <pre><code>&lt;FileUploadManager 
    Labels="@@FileUploadLabels.German" /&gt;</code></pre>

        <h4>3. FranÃ§ais</h4>
        <pre><code>&lt;FileUploadManager 
    Labels="@@FileUploadLabels.French" /&gt;</code></pre>

        <h4>4. Custom Labels (z.B. Spanisch)</h4>
        <pre><code>@@code {
    private FileUploadLabels spanishLabels = new()
    {
        DropzoneText = "Arrastra y suelta archivos aquÃ­ o haz clic para explorar",
        ClipboardHint = "TambiÃ©n puedes pegar imÃ¡genes desde el portapapeles (Ctrl+V)",
        ClipboardButtonText = "ğŸ“‹ Pegar desde el portapapeles",
        DownloadButton = "â¬‡ï¸ Descargar",
        DeleteButton = "ğŸ—‘ï¸ Eliminar",
        PendingFilesTitle = "ğŸ“‹ Archivos pendientes",
        ClearAllButton = "Borrar todo",
        UploadButton = "â¬†ï¸ Subir {0} archivo(s)",
        UploadingText = "â³ Subiendo...",
        ErrorMaxFilesReached = "NÃºmero mÃ¡ximo de archivos ({0}) alcanzado.",
        // ... weitere Labels
    };
}

&lt;FileUploadManager Labels="@@spanishLabels" /&gt;</code></pre>

        <h4>5. Dynamische Sprachwahl</h4>
        <pre><code>@@code {
    private string currentLanguage = "English";
    private FileUploadLabels currentLabels = FileUploadLabels.English;

    private void SetLanguage(string language)
    {
        currentLanguage = language;
        currentLabels = language switch
        {
            "Deutsch" => FileUploadLabels.German,
            "FranÃ§ais" => FileUploadLabels.French,
            _ => FileUploadLabels.English
        };
    }
}</code></pre>
    </div>

    <div class="mt-4 alert alert-success">
        <h4>âœ… Vorteile</h4>
        <ul>
            <li>VollstÃ¤ndige Kontrolle Ã¼ber alle Texte</li>
            <li>Einfache Integration in bestehende Lokalisierungssysteme</li>
            <li>3 vordefinierte Sprachen (English, Deutsch, FranÃ§ais)</li>
            <li>Einfach erweiterbar fÃ¼r weitere Sprachen</li>
            <li>Alle Error Messages lokalisierbar</li>
        </ul>
    </div>
</div>

@code {
    private string currentLanguage = "English";
    private FileUploadLabels currentLabels = FileUploadLabels.English;
    private List<FileUploadItem> uploadedFiles = new();
    
    private FileUploadOptions fileOptions = new()
    {
        AutoUpload = false,
        AllowMultiple = true,
        MaxFileCount = 10,
        MaxFileSize = 10 * 1024 * 1024,
        ShowPreview = true,
        AllowDelete = true,
        AllowDragDrop = true,
        AllowPasteFromClipboard = true
    };

    private void SetLanguage(string language)
    {
        currentLanguage = language;
        currentLabels = language switch
        {
            "Deutsch" => FileUploadLabels.German,
            "FranÃ§ais" => FileUploadLabels.French,
            "Custom" => CreateCustomLabels(),
            _ => FileUploadLabels.English
        };
    }

    private string GetTitle()
    {
        return currentLanguage switch
        {
            "Deutsch" => "Datei-Manager",
            "FranÃ§ais" => "Gestionnaire de fichiers",
            "Custom" => "Archivo Manager (EspaÃ±ol)",
            _ => "File Manager"
        };
    }

    private FileUploadLabels CreateCustomLabels()
    {
        // Beispiel: Spanisch
        return new FileUploadLabels
        {
            DropzoneText = "Arrastra y suelta archivos aquÃ­ o haz clic para explorar",
            ClipboardHint = "TambiÃ©n puedes pegar imÃ¡genes desde el portapapeles (Ctrl+V)",
            ClipboardButtonText = "ğŸ“‹ Pegar desde el portapapeles",
            
            PendingFilesTitle = "ğŸ“‹ Archivos pendientes",
            ClearAllButton = "Borrar todo",
            UploadButton = "â¬†ï¸ Subir {0} archivo(s)",
            UploadingText = "â³ Subiendo...",
            RemoveFileButton = "âœ•",
            
            DownloadButton = "â¬‡ï¸ Descargar",
            DeleteButton = "ğŸ—‘ï¸ Eliminar",
            
            FilesCountText = "{0} / {1} archivos",
            
            ErrorMaxFilesReached = "NÃºmero mÃ¡ximo de archivos ({0}) alcanzado.",
            ErrorFileTooLarge = "El archivo '{0}' excede el tamaÃ±o mÃ¡ximo de {1}.",
            ErrorFileTypeNotAllowed = "El tipo de archivo '{0}' no estÃ¡ permitido para '{1}'.",
            ErrorNoFilesToUpload = "No hay archivos para subir.",
            ErrorUploadInProgress = "La carga ya estÃ¡ en progreso."
        };
    }
}
